{"version":3,"sources":["modules-control.js"],"names":["scrollX","classBlock","scrolledX","$","window","scrollLeft","hasClass","css","scrolledY","topMenu","offset","top","toggleFixedMenu","scrollTop","addClass","removeClass","on","heightMenu","outerHeight","heightSidebar","topSidebar","minTopSidebar","maxTopSidebar","marginTopSidebar","toggleFixedSidebar","height"],"mappings":"AAyEA,SAASA,QAAQC,GAChB,IAAIC,EAAYC,EAAEC,QAAQC,aAEtBH,GAAaC,EAAEF,GAAYK,SAAS,UACvCH,EAAEF,GAAYM,IAAI,QAAUL,GAG5BC,EAAEF,GAAYM,IAAI,OAAQ,SA/E1B,WACD,IAAIC,EAAY,EACfC,EAAUN,EAAE,kBAAkBO,SAASC,IAUxC,SAASC,IACRJ,EAAYL,EAAEC,QAAQS,YAELJ,GAAbD,IAAyBL,EAAE,kBAAkBG,SAAS,UACzDH,EAAE,kBAAkBW,SAAS,UAErBN,EAAYC,GAAWN,EAAE,kBAAkBG,SAAS,WAC5DH,EAAE,kBAAkBY,YAAY,UAflCH,IACAZ,QAAQ,kBAERG,EAAEC,QAAQY,GAAG,SAAU,WACtBJ,IACAZ,QAAQ,oBATT,GA0BA,WACA,IAAIQ,EAAY,EACfS,EAAad,EAAE,kBAAkBe,aAAY,GAC7CC,EAAgBhB,EAAE,YAAYe,cAC9BE,EAAajB,EAAE,aAAaO,SAASC,IACrCU,EAAgBD,EAAaH,EAAa,GAC1CK,EAAgB,EAChBC,EAAmB,EAepB,SAASC,IACRhB,EAAYL,EAAEC,QAAQS,YAELQ,GAAbb,EACCA,EAAYc,GACfC,EAAmBf,EAAYY,EAAaH,EAAa,GACzDd,EAAE,sBAAsBI,IAAI,aAAcgB,GAC1CpB,EAAE,YAAYW,SAAS,UAAUP,IAAI,MAAOU,EAAa,IACzDjB,QAAQ,cAGRG,EAAE,sBAAsBI,IAAI,aAAce,EAAgBH,EAAgBF,EAAa,IACvFd,EAAE,YAAYY,YAAY,UAAUR,IAAI,MAAO,KAIhDJ,EAAE,sBAAsBI,IAAI,aAAc,IAC1CJ,EAAE,YAAYY,YAAY,UAAUR,IAAI,MAAO,IA9BjDJ,EAAEC,QAAQY,GAAG,OAAQ,WACpBR,EAAYL,EAAEC,QAAQS,YACtBS,EAAgBnB,EAAE,uCAAuCsB,SAAWR,EAEpEO,IACAxB,QAAQ,cAGTG,EAAEC,QAAQY,GAAG,SAAU,WACtBQ,IACAxB,QAAQ,cAnBV","file":"modules-control.js","sourcesContent":["// 1. Модуль главного меню\n;(function() {\n\tvar scrolledY = 0,\n\t\ttopMenu = $('.header__block').offset().top;\n\n\ttoggleFixedMenu();\n\tscrollX('.header__block');\n\n\t$(window).on('scroll', function () {\n\t\ttoggleFixedMenu();\n\t\tscrollX('.header__block');\n\t});\n\n\tfunction toggleFixedMenu() {\n\t\tscrolledY = $(window).scrollTop();\n\n\t\tif (scrolledY >= topMenu && !$('.header__block').hasClass('_fixed')) {\n\t\t\t$('.header__block').addClass('_fixed');\n\t\t}\n\t\telse if (scrolledY < topMenu && $('.header__block').hasClass('_fixed')) {\n\t\t\t$('.header__block').removeClass('_fixed');\n\t\t}\n\t}\n}());\n// ----------------------------\n\n// 2. Модуль боковой панели\n(function() {\n\tvar scrolledY = 0,\n\t\theightMenu = $('.header__block').outerHeight(true),\n\t\theightSidebar = $('.sidebar').outerHeight(),\n\t\ttopSidebar = $('.sidebar ').offset().top,\n\t\tminTopSidebar = topSidebar - heightMenu - 10,\n\t\tmaxTopSidebar = 0,\n\t\tmarginTopSidebar = 0;\n\n\t$(window).on('load', function () {\n\t\tscrolledY = $(window).scrollTop();\n\t\tmaxTopSidebar = $('.content-container__block > section').height() - heightMenu;\n\n\t\ttoggleFixedSidebar();\n\t\tscrollX('.sidebar');\n\t});\n\n\t$(window).on('scroll', function () {\n\t\ttoggleFixedSidebar();\n\t\tscrollX('.sidebar');\n\t});\n\n\tfunction toggleFixedSidebar() {\n\t\tscrolledY = $(window).scrollTop();\n\n\t\tif (scrolledY >= minTopSidebar) {\n\t\t\tif (scrolledY < maxTopSidebar) {\n\t\t\t\tmarginTopSidebar = scrolledY - topSidebar + heightMenu + 10;\n\t\t\t\t$('.sidebar-container').css('margin-top', marginTopSidebar);\n\t\t\t\t$('.sidebar').addClass('_fixed').css('top', heightMenu + 10);\n\t\t\t\tscrollX('.sidebar');\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$('.sidebar-container').css('margin-top', maxTopSidebar - heightSidebar + heightMenu + 30);\n\t\t\t\t$('.sidebar').removeClass('_fixed').css('top', 0);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t$('.sidebar-container').css('margin-top', 10);\n\t\t\t$('.sidebar').removeClass('_fixed').css('top', 0);\n\t\t}\n\t}\n}());\n// ----------------------------\n\n// 3. Общая функция\nfunction scrollX(classBlock) {\n\tvar scrolledX = $(window).scrollLeft();\n\n\tif (scrolledX && $(classBlock).hasClass('_fixed')) {\n\t\t$(classBlock).css('left', - scrolledX);\n\t}\n\telse {\n\t\t$(classBlock).css('left', 'auto');\n\t}\n}\n"]}